{"ast":null,"code":"import { createEffect, ofType } from \"@ngrx/effects\";\nimport { loginStart, loginSucess } from \"./auth.action\";\nimport { exhaustMap, map } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/auth.service\";\nimport * as i2 from \"@ngrx/effects\";\nexport class AuthEffects {\n  constructor(auth, actions$) {\n    this.auth = auth;\n    this.actions$ = actions$;\n    this.login$ = createEffect(() => {\n      return this.actions$.pipe(ofType(loginStart), exhaustMap(action => {\n        return this.auth.login(action.email, action.password).pipe(map(data => {\n          console.log(data);\n          const user = this.auth.formatUser(data);\n          console.log(user);\n          return loginSucess(user);\n        }));\n      }));\n    });\n  }\n}\nAuthEffects.ɵfac = function AuthEffects_Factory(t) {\n  return new (t || AuthEffects)(i0.ɵɵinject(i1.AuthService), i0.ɵɵinject(i2.Actions));\n};\nAuthEffects.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AuthEffects,\n  factory: AuthEffects.ɵfac\n});","map":{"version":3,"names":["createEffect","ofType","loginStart","loginSucess","exhaustMap","map","AuthEffects","constructor","auth","actions$","login$","pipe","action","login","email","password","data","console","log","user","formatUser","i0","ɵɵinject","i1","AuthService","i2","Actions","factory","ɵfac"],"sources":["C:\\AngularSampleNgrxProject\\Angular_ngrx\\src\\app\\auth\\state\\auth.effects.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { Actions, createEffect, ofType } from \"@ngrx/effects\";\r\n\r\nimport { AuthService } from \"src/app/services/auth.service\";\r\nimport { loginStart, loginSucess } from \"./auth.action\";\r\nimport { exhaustMap, map } from \"rxjs\";\r\nimport { User } from \"src/app/models/User.model\";\r\n\r\n@Injectable()\r\nexport class AuthEffects{\r\n    constructor(private auth:AuthService,private actions$:Actions){}\r\n    login$ = createEffect(() => {\r\n        return this.actions$.pipe(\r\n          ofType(loginStart),\r\n          exhaustMap((action) => {\r\n            return this.auth.login(action.email, action.password).pipe(\r\n              map((data) => {\r\n           console.log(data);\r\n          const user= this.auth.formatUser(data)\r\n          console.log(user);\r\n          \r\n                return loginSucess(user);\r\n              }),\r\n\r\n            );\r\n          })\r\n        );\r\n      });\r\n    \r\n\r\n}"],"mappings":"AACA,SAAkBA,YAAY,EAAEC,MAAM,QAAQ,eAAe;AAG7D,SAASC,UAAU,EAAEC,WAAW,QAAQ,eAAe;AACvD,SAASC,UAAU,EAAEC,GAAG,QAAQ,MAAM;;;;AAItC,OAAM,MAAOC,WAAW;EACpBC,YAAoBC,IAAgB,EAASC,QAAgB;IAAzC,KAAAD,IAAI,GAAJA,IAAI;IAAqB,KAAAC,QAAQ,GAARA,QAAQ;IACrD,KAAAC,MAAM,GAAGV,YAAY,CAAC,MAAK;MACvB,OAAO,IAAI,CAACS,QAAQ,CAACE,IAAI,CACvBV,MAAM,CAACC,UAAU,CAAC,EAClBE,UAAU,CAAEQ,MAAM,IAAI;QACpB,OAAO,IAAI,CAACJ,IAAI,CAACK,KAAK,CAACD,MAAM,CAACE,KAAK,EAAEF,MAAM,CAACG,QAAQ,CAAC,CAACJ,IAAI,CACxDN,GAAG,CAAEW,IAAI,IAAI;UAChBC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;UAClB,MAAMG,IAAI,GAAE,IAAI,CAACX,IAAI,CAACY,UAAU,CAACJ,IAAI,CAAC;UACtCC,OAAO,CAACC,GAAG,CAACC,IAAI,CAAC;UAEX,OAAOhB,WAAW,CAACgB,IAAI,CAAC;QAC1B,CAAC,CAAC,CAEH;MACH,CAAC,CAAC,CACH;IACH,CAAC,CAAC;EAjB2D;;AADtDb,WAAW,C;mBAAXA,WAAW,EAAAe,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,WAAA,GAAAH,EAAA,CAAAC,QAAA,CAAAG,EAAA,CAAAC,OAAA;AAAA;AAAXpB,WAAW,C;SAAXA,WAAW;EAAAqB,OAAA,EAAXrB,WAAW,CAAAsB;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}